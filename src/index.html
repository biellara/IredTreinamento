<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hub de Atendimento | IRED</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <link rel="stylesheet" href="style.css" />
    <style>
      .top-right {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        left: auto;
        display: flex;
        gap: 0.75rem;
      }

      .logout-button,
      .admin-button {
        background-color: #d32f2f;
        color: white;
        border: none;
        padding: 0.6rem 1.2rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        font-family: "Inter", sans-serif;
        transition: background-color 0.3s ease;
      }

      .logout-button:hover {
        background-color: #b71c1c;
      }

      .admin-button {
        background-color: #1976d2;
      }

      .admin-button:hover {
        background-color: #0d47a1;
      }
    </style>
  </head>
  <body>
    <script src="auth.js"></script>
    <script>
      protectPage(); // Redireciona se não tiver token
    </script>

    <div class="top-right">
      <button onclick="logout()" class="logout-button">
        <i class="fa-solid fa-sign-out-alt"></i> Sair
      </button>
      <button id="adminOnlyButton" class="admin-button" style="display: none;">
        <i class="fa-solid fa-user-shield"></i> Painel Admin
      </button>
    </div>

    <main class="page-container">
      <div class="hub-content">
        <img
          src="https://i.ibb.co/fVwtcjjz/IRED-internet-VERMELHO.png"
          alt="Logo da IRED"
          class="hub-logo"
          onerror="this.style.display='none'"
        />

        <h1 class="hub-title">Seja bem-vindo ao SAC!</h1>
        <p class="hub-subtitle">O que você precisa hoje?</p>

        <div
          class="search-container"
          style="max-width: 28rem; margin-left: auto; margin-right: auto"
        >
          <i class="fa-solid fa-search search-icon"></i>
          <input
            type="text"
            id="universalSearch"
            placeholder="Busque por um problema, procedimento ou política..."
            class="search-input"
          />
        </div>

        <nav class="hub-nav">
          <a href="ferramentas.html" class="hub-button">
            <i class="fa-solid fa-wand-magic-sparkles"></i>
            <span>Ferramentas de IA</span>
          </a>
          <a href="atividades.html" class="hub-button">
            <i class="fa-solid fa-pencil-alt"></i>
            <span>Artigos e Atividades</span>
          </a>
        </nav>
      </div>
    </main>

    <div class="tech-assistant-fab" onclick="abrirAssistente()">
      <i class="fa-solid fa-brain"></i>
    </div>

    <!-- Modal do Assistente Virtual -->
    <div id="modalAssistente" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Assistente Virtual</h2>
          <button onclick="fecharAssistente()">&times;</button>
        </div>
        
        <div id="chatContainer" class="chat-container">
          <!-- As mensagens serão adicionadas aqui via JavaScript -->
        </div>

        <div class="modal-footer">
          <input type="text" id="mensagemAssistente" placeholder="Digite sua pergunta...">
          <button id="btnEnviarAssistente">Enviar</button>
        </div>
      </div>
    </div>

    <script src= "ativ-con.js"></script> 
    <script src="script.js"></script>
  </body>
</html>